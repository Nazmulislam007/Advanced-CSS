<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="./style.css" />
  </head>
  <body>
    <div class="line-container">
      <svg
        viewBox="0 0 607 1659"
        preserveAspectRatio="xMidYMax meet"
        fill="none"
      >
        <path
          d="M248.5 0V576.5C248.833 614.667 282 705.5 203.5 737C159.5 777 122.167 810 109 821.5L3 717.5V923.5C63.1667 850.167 212.6 701.6 329 694C370.5 694 428.5 685.5 474.5 717.5C512.5 739.5 576.333 796 603.5 821.5C564.5 866.5 468.3 954.6 395.5 947C313.9 947 303.167 1010 308 1041.5V1210.5C306.833 1271 294.5 1330.5 317.5 1390.5C340.5 1450.5 345.167 1392 352.5 1393.5C358.833 1394 372.4 1396.4 376 1402C380.5 1409 394 1418 392.5 1441.5C391.3 1460.3 384.5 1454.5 369.5 1468C369.5 1468 355.5 1473.5 352.5 1485C349.5 1496.5 352.5 1637 352.5 1637C349.5 1642.67 341.5 1651 336 1651C306.5 1654 302.833 1648 301 1648C281 1640 308.7 1608.7 297.5 1599.5C283.5 1588 278 1579 247.5 1579C219.46 1579 187 1569 177 1599.5C177 1616.5 199 1605 181 1630L173 1648C164 1665 123 1650.2 115 1637C105 1620.5 103.422 1586.16 107 1579C115 1563 168.5 1542 156 1521L141 1485L130.5 1464.5C130.5 1464.5 189 1502.5 181 1516"
          stroke="#F92020"
          stroke-width="5"
        />
      </svg>
    </div>
    <section class="one">
      <h1 class="scroll" data-rate=".4" data-direction="vertical">
        Ocean stuff
      </h1>
    </section>
    <section class="two">
      <h1 class="scroll" data-rate=".2" data-direction="vertical">
        Omg scroll
      </h1>
      <p>Awesome design Made</p>
    </section>

    <script>
      const path = document.querySelector("path");
      const pathLength = path.getTotalLength();
      path.style.strokeDasharray = pathLength + " " + pathLength;

      path.style.strokeDashoffset = pathLength;

      window.addEventListener("scroll", () => {
        const scrollPercentage =
          (document.documentElement.scrollTop + document.body.scrollTop) /
          (document.documentElement.scrollHeight -
            document.documentElement.clientHeight);

        const drawLenght = pathLength * scrollPercentage;
        path.style.strokeDashoffset = pathLength - drawLenght;

        let target = document.querySelectorAll(".scroll");

        let index = 0;
        length = target.length;

        for (index; index < length; index++) {
          const pos = window.pageYOffset * target[index].dataset.rate;
          if (target[index].dataset.direction === "vertical") {
            target[index].style.transform =
              "translate3d(0px," + pos + "px , 0px)";
          }
        }
      });
    </script>
  </body>
</html>
